(function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};e.Chatroom=Backbone.Model.extend({id:null,title:null,description:null,categoryId:null,userId:null,publicYN:null,validation:{categoryId:[{required:!0,msg:"カテゴリを選択してください"}],title:[{required:!0,msg:"チャットルーム名を入力してください"},{rangeLength:[3,20],msg:"チャットルーム名は3文字以上20文字以下で入力してください"}],description:[{required:!0,msg:"説明を入力してください"},{rangeLength:[3,200],msg:"チャットルーム名は3文字以上200文字以下で入力してください"}],publicYN:[{required:!0,msg:"公開設定を選択してください"}]},url:"/chatrooms"}),e.Chatrooms=Backbone.Collection.extend({model:e.Chatroom,url:"/chatrooms",nextPage:2,parse:function(e){return this.nextPage=e.nextPage,e.chatrooms}})}).call(this),function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};e.CreateChatroomView=Backbone.View.extend({el:$("html"),events:{"click #submit_1":"submit"},initialize:function(){this.model=new e.Chatroom,Backbone.Validation.bind(this)},submit:function(e){e.preventDefault();var t=$.trim($("#categoryId").val()),n=$.trim($("#title").val()),r=$.trim($("#description").val()),i=$('input[name="publicYN"]:checked').val();this.model.set({categoryId:t,title:n,description:r,publicYN:i}),this.model.isValid()&&this.model.save({categoryId:t,title:n,description:r,publicYN:i},{success:function(e,t){var n=t.chatroomId;location.href="/chatrooms/"+n},error:function(e,t){alert(t.responseText)}}),this.model.bind("validated:invalid",function(e,t){for(key in t)$("#error_"+key).text(t[key])})},render:function(){}})}.call(this),function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};$(function(){var t=new e.CreateChatroomView;t.render(),Backbone.emulateHTTP=!0})}.call(this);