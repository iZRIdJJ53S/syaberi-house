(function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};e.templates=this.syaberi.templates!=null?this.syaberi.templates:this.syaberi.templates={},e.templates.chatroom={},e.templates.chatroom.list=Handlebars.compile('<div style="" class="searchartile"><dl class="search_dl"><dd class="search_dd_title"><a href="/chatrooms/{{id}}">【{{category}}】{{title}}</a></dd><dd class="search_dd_tag" id="search_dd_tag_{{id}}"></dd><dd class="search_dd_txt">{{description}}</dd></dl><div class="joinedthumbs_wrapp clearfix"><ul id="dec-supporters-{{id}}"></ul><div class="joined_details" class="txtc"><span id="joined_detail_{{id}}"></span><span>{{status}}</span></div></div></div>')}).call(this),function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};e.Chatroom=Backbone.Model.extend({id:null,title:null,description:null,categoryId:null,userId:null,publicYN:null,validation:{categoryId:[{required:!0,msg:"カテゴリを選択してください"}],title:[{required:!0,msg:"チャットルーム名を入力してください"},{rangeLength:[3,20],msg:"チャットルーム名は3文字以上20文字以下で入力してください"}],description:[{required:!0,msg:"説明を入力してください"},{rangeLength:[3,200],msg:"チャットルーム名は3文字以上200文字以下で入力してください"}],publicYN:[{required:!0,msg:"公開設定を選択してください"}]},url:"/chatrooms"}),e.Chatrooms=Backbone.Collection.extend({model:e.Chatroom,url:"/chatrooms",nextPage:2,parse:function(e){return this.nextPage=e.nextPage,e.chatrooms}})}.call(this),function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};e.TopView=Backbone.View.extend({el:$("html"),events:{"click #view-more-events":"getMore"},initialize:function(){this.collection=new e.Chatrooms},getMore:function(t){$("#view-more-events").hide(),$("#view-more-loader").show(),this.collection.fetch({data:{page:this.collection.nextPage},success:function(t,n){var r=n.chatrooms;r&&$.each(n.chatrooms,function(t,n){n.status===0?n.status="募集中":n.status="開始中";var r=e.templates.chatroom.list(n);$("#section_searchcommu").append(r)}),$("#view-more-loader").hide(),n.nextPage!==0&&$("#view-more-events").show()}})},render:function(){}})}.call(this),function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};$(function(){var t=new e.TopView;t.render(),Backbone.emulateHTTP=!0})}.call(this);