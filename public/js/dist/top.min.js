(function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};e.templates=this.syaberi.templates!=null?this.syaberi.templates:this.syaberi.templates={},e.templates.chatroom={},e.templates.chatroom.list=Handlebars.compile('<div class="room">        <div class="room-inbox">            <div class="room-icon">                {{#if isOwnerInactive}}                    <img class="icon_m" src="/img/chara.png">                {{else}}                <a href="{{ownerpage}}">                    <a href="{{ownerpage}}"><img class="icon_m" src="{{ownerimage}}"></a>                </a>                {{/if}}            </div>            <div class="room-titlebox">                <h2 class="room-title"><a href="/chatrooms/{{id}}/open">{{title}}</a></h2>                <div class="cat-icon"><a href="#">{{category}}</a></div>                <div class="room-username">                    {{#if isOwnerInactive}}                        by.退会済み                    {{else}}                        <a href="{{ownerpage}}">by.{{owner}}</a>                    {{/if}}                </div>            </div>            <div class="room-button">                <a href="/chatrooms/{{id}}/open">                {{#if isStatusInvite}}                  <input type="button" class="button_g" value="話す">                {{else}}                  <input type="button" class="button_yg" value="話す">                {{/if}}               </a>            </div>        </div>        {{#if latest}}        <div class="ask">            <div class="ask-titlebox">                <div class="ask-title" ><a href="/chatrooms/{{id}}/open">{{latest.message}}</a></div>                <div class="ask-username">                    {{#if latest.isInactive}}                        by.退会済み                    {{else}}                        <a href="/users/{{latest.userId}}">by.{{latest.username}}</a>                    {{/if}}                </div>            </div>            <div class="ask-icon">                {{#if latest.isInactive}}                    <img class="icon_m" src="/img/chara.png">                {{else}}                    <a href="/users/{{latest.userId}}"><img class="icon_m" src="{{latest.userimage}}"></a>                {{/if}}            </div>        </div>        {{/if}}    </div>')}).call(this),function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};e.Chatroom=Backbone.Model.extend({id:null,title1:null,title2:null,description:null,categoryId:null,userId:null,publicYN:null,validation:{categoryId:[{required:!0,msg:"カテゴリを選択してください"}],title1:[{required:!0,msg:"部屋名を入力してください"},{rangeLength:[0,100],msg:"部屋名は100文字以下で入力してください"}],title2:[{required:!0,msg:"部屋名を入力してください"},{rangeLength:[0,100],msg:"部屋名は100文字以下で入力してください"}],description:[],publicYN:[{required:!0,msg:"公開設定を選択してください"}]},url:"/chatrooms"}),e.Chatrooms=Backbone.Collection.extend({model:e.Chatroom,url:"/chatrooms",nextPage:2,parse:function(e){return this.nextPage=e.nextPage,e.chatrooms}})}.call(this),function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};e.TopView=Backbone.View.extend({el:$("html"),events:{"click #view-more-events":"getMore"},initialize:function(){this.collection=new e.Chatrooms},getMore:function(t){$("#view-more-events").hide(),$("#view-more-loader").show(),this.collection.fetch({data:{page:this.collection.nextPage},success:function(t,n){var r=n.chatrooms;r&&$.each(n.chatrooms,function(t,n){n.isStatusInvite=n.status==0;var r=e.templates.chatroom.list(n);$(".left-content","#content").append(r)}),$("#view-more-loader").hide(),n.nextPage!==0&&$("#view-more-events").show()}})},render:function(){}})}.call(this),function(){var e=this.syaberi!=null?this.syaberi:this.syaberi={};$(function(){var t=new e.TopView;t.render(),Backbone.emulateHTTP=!0})}.call(this);